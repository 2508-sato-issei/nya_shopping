<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>ホーム</title>
    <link th:href="@{/css/navbar.css}" rel="stylesheet">
</head>
<body>
<nav class="nya-navbar fixed-top" th:fragment="navbar">
    <div class="container-fluid">
        <!-- ブランド（画像ロゴ） -->
        <a class="brand-area" th:href="@{/}">
            <img class="logo" th:src="@{/storage/logo.png}" alt="サイトロゴ">
            <span class="site-title">企業向けECサイト</span>
        </a>

        <ul class="menu">
            <!-- 未ログイン時 -->
            <li th:if="${!#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/login}">🔑 ログイン</a>
            </li>
            <li th:if="${!#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/user/register}">✍️ 新規会員登録</a>
            </li>

            <!-- ログイン中 -->
            <li th:if="${#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/user/mypage}">👤 マイページ</a>
            </li>

            <!-- 管理者のみ -->
            <li th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
                <a th:href="@{/admin}">⚙️ 管理者</a>
            </li>

            <!-- ログアウトボタン -->
            <li th:if="${#authorization.expression('isAuthenticated()')}">
                <form th:action="@{/logout}" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
                    <button type="submit" class="logout-btn">🚪 ログアウト</button>
                </form>
            </li>

            <li>
                <a class="cart-nav-btn" th:href="@{/cart}">🛒 カート</a>
            </li>
        </ul>
    </div>
</nav>
</body>
</html>